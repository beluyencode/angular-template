import { Component, OnInit, OnDestroy, ViewChild, ElementRef, AfterViewInit, Renderer2 } from '@angular/core';
import { TranslatePopupService } from './translate-popup.service';
import { Subject, Subscription } from 'rxjs';

@Component({
  selector: 'app-translate-popup',
  templateUrl: './translate-popup.component.html',
  styleUrls: ['./translate-popup.component.scss']
})
export class TranslatePopupComponent implements OnInit, OnDestroy, AfterViewInit {
  @ViewChild('translate_div') eleTranslate: ElementRef;
  id: string;
  text: string | any;
  disableBtnSpeak = false;
  speaking: SpeechSynthesisUtterance;
  positionFixed = {
    x: 0,
    y: 0,
  };
  translate: string = '';
  subject: Subscription;
  html = "<script>var tcGT = {\"name\":\"consumer\",\"type\":0,\"children\":[{\"name\":\"buyer\",\"type\":2},{\"name\":\"customer\",\"type\":2},{\"name\":\"user\",\"type\":2},{\"name\":\"shopper\",\"type\":2},{\"name\":\"purchaser\",\"type\":2}]}</script><article id=\"dict_ev\" data-tab-name=\"Anh - Việt\" class=\"tcTab--slide\"><div id=\"ev\"><div class=\"dict--title\">Từ điển Anh - Việt</div><div class=\"dict--content\"><table id=\"definition\" border=\"0\"><tr id=\"pa\"><td id=\"I_C\"><font color=\"#9e9e9e\">◘</font></td><td id=\"C_C\" colspan=\"3\"><font color=\"#9e9e9e\">[kən'sju:mə]</font></td></tr><tr id=\"tl\"><td id=\"I_C\"><font color=\"#1a76bf\">*</font></td><td id=\"C_C\" colspan=\"3\"><b><font color=\"#1a76bf\">danh từ</font></b></td></tr><tr id=\"mn\"><td> </td><td id=\"I_C\"><font color=\"#999\">■</font></td><td id=\"C_C\" colspan=\"2\">người tiêu dùng, người tiêu thụ (hàng hoá, thực phẩm...)</td></tr><tr id=\"mh\"><td colspan=\"2\"> </td><td id=\"I_C\"><font color=\"#1371BB\">⁃</font></td><td id=\"C_C\"><font color=\"#1371BB\">producers and consumers</font></td></tr><tr id=\"mh_n\"><td colspan=\"3\"> </td><td id=\"C_C\"><font color=\"#7E7E7E\">những người sản xuất và những người tiêu thụ</font></td></tr><tr id=\"tn\"><td> </td><td id=\"I_C\"><font color=\"#1371BB\">▸</font></td><td id=\"C_C\" colspan=\"2\"><font color=\"#1371BB\">consumer resistance</font></td></tr><tr id=\"tn_n\"><td colspan=\"2\"> </td><td id=\"I_C\"><font color=\"#aaa\">■</font></td><td id=\"C_C\">sự thờ ơ của khách hàng</td></tr></table><i></i></div></div></article><article id=\"dict_th\" data-tab-name=\"Đồng nghĩa\" class=\"tcTab--slide\"><div id=\"th\"><div class=\"dict--title\">Từ điển Đồng nghĩa</div><div class=\"dict--content\"><k>consumer</k><br><blockquote>▸ <cclass>noun PURCHASER, buyer, customer, shopper; user, end-user; client; (<b>the consumer or consumers</b>) the public, the market.</cclass></blockquote><svg id=\"vwSVG\" viewBox=\"0 0 600 500\" onload=\"VisualWords(tcGT)\"></svg></div></div></article><article id=\"dict_cn\" data-tab-name=\"Chuyên ngành\" class=\"tcTab--slide\"><div id=\"eb\"><div class=\"dict--title\">Từ điển Kinh tế (EN)</div><div class=\"dict--content\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> người mua</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer or buyer-oriented concept</font><font color=\"#282828\">: quan niệm hướng về người tiêu dùng hay người mua</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> người tiêu dùng</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">best consumer</font><font color=\"#282828\">: người tiêu dùng tốt nhất</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">beyond the means of ordinary consumer</font><font color=\"#282828\">: vượt quá khả năng kinh tế của người tiêu dùng bình thường</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer acceptance</font><font color=\"#282828\">: chấp nhận nhãn hàng của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer acceptance</font><font color=\"#282828\">: sự chấp nhận của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer advertising</font><font color=\"#282828\">: quảng cáo với người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer and market response</font><font color=\"#282828\">: sự đáp ứng người tiêu dùng ngoài thị trường</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer association</font><font color=\"#282828\">: hiệp hội người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer attitude</font><font color=\"#282828\">: thái độ người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer awareness</font><font color=\"#282828\">: ý thức người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer buying behaviour</font><font color=\"#282828\">: thái độ mua của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer characteristics</font><font color=\"#282828\">: đặc trưng người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer contest</font><font color=\"#282828\">: cuộc thi chọn người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer council</font><font color=\"#282828\">: ủy ban (bảo vệ lợi ích) người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer decision making</font><font color=\"#282828\">: việc đưa ra quyết định của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer demand</font><font color=\"#282828\">: nhu cầu người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer education</font><font color=\"#282828\">: sự giáo dục người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer equilibrium</font><font color=\"#282828\">: cân bằng của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer expenditure survey</font><font color=\"#282828\">: điều nghiên chi tiêu của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer expenditure-income pattern</font><font color=\"#282828\">: mô thức chi tiêu-thu nhập của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer finance company</font><font color=\"#282828\">: công ty tín dụng người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer group</font><font color=\"#282828\">: nhóm người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer investment</font><font color=\"#282828\">: đầu tư của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer league</font><font color=\"#282828\">: liên minh người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer life</font><font color=\"#282828\">: đời sống người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer magazine</font><font color=\"#282828\">: tạp chí người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer market</font><font color=\"#282828\">: thị trường người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer motivation</font><font color=\"#282828\">: động cơ người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer needs</font><font color=\"#282828\">: nhu cầu người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer or buyer-oriented concept</font><font color=\"#282828\">: quan niệm hướng về người tiêu dùng hay người mua</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer organization</font><font color=\"#282828\">: tổ chức bảo vệ người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer preference</font><font color=\"#282828\">: sự ưu tiên dành cho người tiêu dùng (của người tiêu dùng)</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer pressure</font><font color=\"#282828\">: áp lực từ phía người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer protection</font><font color=\"#282828\">: sự bảo vệ người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer protection legislation</font><font color=\"#282828\">: pháp quy bảo hộ người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer psychology</font><font color=\"#282828\">: tâm lý học người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer purchasing power</font><font color=\"#282828\">: mãi lực người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer purchasing power</font><font color=\"#282828\">: sức mua người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer reaction</font><font color=\"#282828\">: phản ứng người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer relations department</font><font color=\"#282828\">: phòng liên lạc với người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer requirements</font><font color=\"#282828\">: điều kiện yêu cầu người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer research</font><font color=\"#282828\">: điều tra nghiên cứu, điều nghiên người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer research director</font><font color=\"#282828\">: giám đốc điều nghiên người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer response</font><font color=\"#282828\">: phản ứng người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer satisfaction</font><font color=\"#282828\">: sự thỏa mãn của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer savings</font><font color=\"#282828\">: tiết kiệm của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer service</font><font color=\"#282828\">: nghành dịch vụ cần cho người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer sovereignty</font><font color=\"#282828\">: quyền quyết định của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer spending</font><font color=\"#282828\">: chi tiêu của người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer subsidy equivalent</font><font color=\"#282828\">: giá trị tương đương trợ cấp người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer survey</font><font color=\"#282828\">: điều tra người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer survey</font><font color=\"#282828\">: điều tra nghiên cứu người tiêu dùng</font></li></td></tr></tbody></table>. <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer union</font><font color=\"#282828\">: hiệp hội người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">end consumer (end-consumer)</font><font color=\"#282828\">: người tiêu dùng trực tiếp</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">individual consumer</font><font color=\"#282828\">: người tiêu dùng cá thể</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">marginal consumer</font><font color=\"#282828\">: người tiêu dùng biên tế</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">markets and consumer welfare</font><font color=\"#282828\">: thị trường và phúc lợi người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">sales to consumer</font><font color=\"#282828\">: sự bán cho người tiêu dùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">service consumer</font><font color=\"#282828\">: người tiêu dùng dịch vụ</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">ultimate consumer (the...)</font><font color=\"#282828\">: người tiêu dùng sau cùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">ultimate consumer market</font><font color=\"#282828\">: thị trường người tiêu dùng sau cùng</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">basic model of consumer behavior</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> ngành công nghiệp cơ bản</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer advertising</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> sự quảng cáo hàng tiêu dùng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer affairs department</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> phòng sự phụ khách hàng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer bad debts</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> nợ khó đòi của khách hàng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer borrowing</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> sự vay nợ của khách hàng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer buying expectations</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> số mua kỳ vọng của khách hàng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer city</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> thành phố tiêu dùng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer complaints</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> số khiếu tố của người tiêu thụ</font></td></tr></tbody></table></td></tr></tbody></table></div></div><div id=\"et\"><div class=\"dict--title\">Từ điển Kỹ thuật (EN)</div><div class=\"dict--content\"><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> hộ tiêu thụ</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">consumer of electricity</font><font color=\"#282828\">: hộ tiêu thụ điện</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">heat consumer</font><font color=\"#282828\">: hộ tiêu thụ nhiệt</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">steam consumer</font><font color=\"#282828\">: hộ tiêu thụ hơi</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">vapour consumer</font><font color=\"#282828\">: hộ tiêu thụ hơi</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> người tiêu dùng</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> người tiêu thụ</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><li><font color=\"#005ba1\">heat consumer</font><font color=\"#282828\">: người tiêu thụ nhiệt</font></li></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><b><font color=\"#6699ff\">Lĩnh vực:</font></b><font color=\"#666699\"> điện</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> hộ thuê bao</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><b><font color=\"#6699ff\">Lĩnh vực:</font></b><font color=\"#666699\"> xây dựng</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> tiêu thụ viên</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">agricultural consumer of electricity</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> phụ tải nông nghiệp</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer electronic device</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> thiết bị điện tử dân dụng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer electronic device</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> thiết bị điện tử tiêu dùng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer electronic equipment</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> thiết bị điện tử dân dụng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer electronics</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> điện tử học dân dụng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer gas service line</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> nhánh ống nối cấp khí trong nhà</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer goods</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> hàng tiêu dùng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">consumer ice</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> nước đá tiêu dùng</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">heat consumer</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> thiết bị tiêu thụ nhiệt</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">smoke consumer</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> máy hút khói</font></td></tr></tbody></table></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td><font color=\"#005ba1\">ultimate consumer</font></td></tr></tbody></table><table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"><tbody><tr><td></td><td><font color=\"#999\">■</font><font> người sử dụng</font></td></tr></tbody></table></td></tr></tbody></table></div></div><div id=\"ce\"><div class=\"dict--title\">Chuyên ngành</div><div class=\"dict--content\"><font color=\"#1a76bf\">*</font><font color=\"#1a76bf\"><b> danh từ</b></font><br>  - <font color=\"#595959\">người tiêu dùng, người tiêu thụ (hàng hoá, thực phẩm...)</font><br><font color=\"#005ba1\"><span>   </span><i>producers and consumers</i></font> ~ <font color=\"#7E7E7E\">những người sản xuất và những người tiêu thụ</font><br> . <font color=\"#595959\">consumer resistance</font><br>  - <font color=\"#595959\">sự thờ ơ của khách hàng</font></div></div><div id=\"ce\"><div class=\"dict--title\">Chuyên ngành</div><div class=\"dict--content\">- <font color=\"#595959\">người tiêu dùng</font></div></div></article><article id=\"dict_aa\" data-tab-name=\"Anh - Anh\" class=\"tcTab--slide\"><div id=\"ox\"><div class=\"dict--title\">Anh - Anh</div><div class=\"dict--content\"><k>consumer</k><br><blockquote>■ <cclass>noun </cclass></blockquote><br><blockquote><blockquote>1》 a person or thing that eats or uses something. </blockquote></blockquote><br><blockquote><blockquote>2》 a person who buys goods and services for personal use: [as <cclass>modifier] <i>consumer demand.</i></cclass></blockquote></blockquote></div></div><div id=\"ee\"><div class=\"dict--title\">WordNet</div><div class=\"dict--content\"><font color=\"#3673a2\"> noun</font><br> a person who uses goods or services <br><font color=\"#3673a2\"><b> (<font color=\"#3673a2\"> Freq.</font> 10)</b></font><br>• <font color=\"#3673a2\"> Derivationally related forms</font>: <kref>consume</kref><br><font color=\"#3673a2\"><b> •</b></font><font color=\"#3673a2\"> Hypernyms</font>: <kref>user</kref><br><font color=\"#3673a2\"><b> •</b></font><font color=\"#3673a2\"> Hyponyms</font>:<br><kref>chewer</kref> , <kref>concert-goer</kref> , <kref>music lover</kref> , <kref>customer</kref> , <kref>client</kref> , <kref>drinker</kref> , <kref>imbiber</kref> , <kref>toper</kref> , <kref>juicer</kref> , <kref>eater</kref> , <kref>feeder</kref> , <kref>prodigal</kref> , <kref>profligate</kref> , <kref>squanderer</kref> , <kref>smoker</kref> , <kref>tobacco user</kref> , <kref>snuffer</kref> , <kref>snuff user</kref></div></div></article>"

  constructor(
    private translateService: TranslatePopupService,
    private renderer: Renderer2
  ) { }

  ngAfterViewInit(): void {
    const arr: Array<any> = [];
    (this.eleTranslate.nativeElement as HTMLDivElement).childNodes.forEach((ele: Node, index: number) => {
      if ((ele as HTMLElement).getAttribute('data-tab-name') !== 'Anh - Việt') {
        arr.push(ele)
      }
    })
    arr.forEach((ele: Node) => {
      (ele as HTMLElement).remove();
    })
  }

  ngOnDestroy(): void {
    window.speechSynthesis.cancel();
    this.subject?.unsubscribe();
  }

  ngOnInit(): void {
    window.speechSynthesis.cancel();
    this.html = this.html.split('</script>')[1];
    this.translateService.translateGoogle(this.text).subscribe((res: any) => {
      this.translate = res[0][0][0];
      console.log();
    })
    // this.subject = this.translateService.translate(this.text).subscribe((res: any) => {
    //   console.log(res[0][0][0]);
    // })
  }

  close() { }

  speak() {
    console.log(window.speechSynthesis.getVoices());
    window.speechSynthesis.cancel();
    const msg = new SpeechSynthesisUtterance(this.text);
    msg.voice = window.speechSynthesis.getVoices()[4];
    speechSynthesis.speak(msg);
  }
}
